(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[14],{131:function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return E})),n.d(t,"g",(function(){return h})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return y}));var a=n(21),r=n.n(a),c=n(32),i=n(11),o=n(28),s=n(20),u=n.n(s),l=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/api/v1/profiles/me");case 3:n=e.sent,t({type:i.a.PROFILE_SUCCESS,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:i.a.PROFILE_FAIL});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var a=Object(c.a)(r.a.mark((function a(c){var s,l;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=JSON.stringify(e),a.prev=1,a.next=4,u.a.post("/api/v1/profiles",s,{headers:{"Content-Type":"application/json"}});case 4:l=a.sent,c({type:i.a.PROFILE_SUCCESS,payload:l.data}),c(Object(o.b)("".concat(n?"Profile updated":"Profile created"),"success")),n||t.push("/dashboard"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),c({type:i.a.PROFILE_FAIL}),c(Object(o.b)(a.t0.response.data.message,"danger"));case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},m=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,s,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify(e),n.prev=2,n.next=5,u.a.patch("/api/v1/profiles/experience",s,c);case 5:l=n.sent,a({type:i.a.UPDATE_PROFILE,payload:l.data}),a(Object(o.b)("Experiences Added","success")),t.push("/dashboard"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),a({type:i.a.PROFILE_FAIL}),a(Object(o.b)(n.t0.response.data.message,"danger"));case 15:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},d=function(e,t){return function(){var n=Object(c.a)(r.a.mark((function n(a){var c,s,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify(e),n.prev=2,n.next=5,u.a.patch("/api/v1/profiles/education",s,c);case 5:l=n.sent,a({type:i.a.UPDATE_PROFILE,payload:l.data}),a(Object(o.b)("Education Added","success")),t.push("/dashboard"),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),a({type:i.a.PROFILE_FAIL}),a(Object(o.b)(n.t0.response.data.message,"danger"));case 15:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.delete("/api/v1/profiles/experience/".concat(e));case 3:a=t.sent,n({type:i.a.UPDATE_PROFILE,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(Object(o.b)(t.t0.response.data.message,"danger"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.delete("/api/v1/profiles/education/".concat(e));case 3:a=t.sent,n({type:i.a.UPDATE_PROFILE,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n(Object(o.b)(t.t0.response.data.message,"danger"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},E=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.delete("/api/v1/users/delete-me");case 3:t({type:i.a.CLEAR_PROFILE}),t({type:i.a.DELETE_PROFILE}),t(Object(o.b)("Account is removed")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(Object(o.b)(e.t0.response.data.message,"danger"));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},h=function(){return function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:i.a.CLEAR_PROFILE}),e.prev=1,e.next=4,u.a.get("api/v1/profiles");case 4:n=e.sent,t({type:i.a.GET_PROFILES,payload:n.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:i.a.GET_PROFILES_FAIL}),t(Object(o.b)(e.t0.response.data.message,"danger"));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/api/v1/profiles/".concat(e));case 3:a=t.sent,n({type:i.a.PROFILE_SHOW_SUCCESS,payload:a.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:i.a.PROFILE_FAIL}),n({type:i.a.CLEAR_PROFILE});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.get("/api/v1/profiles/github/".concat(e));case 3:a=t.sent,n({type:i.a.GET_REPOS,payload:a.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:i.a.PROFILE_FAIL}),n(Object(o.b)(t.t0.response.data.messge,"danger"));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(55);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(a=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(s){r=!0,c=s}finally{try{a||null==o.return||o.return()}finally{if(r)throw c}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},332:function(e,t,n){"use strict";n.r(t);var a=n(132),r=n(0),c=n.n(r),i=n(22),o=n(12),s=n(131),u=n(41),l=n(53),p=function(){return c.a.createElement("div",{className:"dash-buttons"},c.a.createElement(o.b,{to:"/edit",className:"btn btn-light"},c.a.createElement("i",{className:"fas fa-user-circle text-primary"})," Edit Profile"),c.a.createElement(o.b,{to:"/add-expirence",className:"btn btn-light"},c.a.createElement("i",{className:"fab fa-black-tie text-primary"})," Add Experience"),c.a.createElement(o.b,{to:"/add-education",className:"btn btn-light"},c.a.createElement("i",{className:"fas fa-graduation-cap text-primary"})," Add Education"))},m=n(139),d=n.n(m),f=function(e){var t=e.experiences,n=Object(i.b)(),a=t.map((function(e){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,e.company),c.a.createElement("td",{className:"hide-sm"},e.title),c.a.createElement("td",{className:"hide-sm"},c.a.createElement(d.a,{format:"YYYY/MM/DD"},e.from)," -"," ",null===e.to?"Now":c.a.createElement(d.a,{format:"YYYY/MM/DD"},e.to)),c.a.createElement("td",null,c.a.createElement("button",{className:"btn bg-danger",onClick:function(){return n(Object(s.f)(e._id))}},"Delete")))}));return c.a.createElement(r.Fragment,null,c.a.createElement("h1",{className:"my-2"},"Experience Credentials"),c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Commpany"),c.a.createElement("th",{className:"hide-sm"},"Title"),c.a.createElement("th",{className:"hide-sm"},"Years"),c.a.createElement("th",null))),c.a.createElement("tbody",null,a)))},b=function(e){var t=e.educations,n=Object(i.b)(),a=t.map((function(e){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,e.school),c.a.createElement("td",{className:"hide-sm"},e.degree),c.a.createElement("td",{className:"hide-sm"},c.a.createElement(d.a,{format:"YYYY/MM/DD"},e.from)," -"," ",null===e.to?"Now":c.a.createElement(d.a,{format:"YYYY/MM/DD"},e.to)),c.a.createElement("td",null,c.a.createElement("button",{className:"btn bg-danger",onClick:function(){n(Object(s.e)(e._id))}},"Delete")))}));return c.a.createElement(r.Fragment,null,c.a.createElement("h1",{className:"my-2"},"Education Credentials"),c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"School"),c.a.createElement("th",{className:"hide-sm"},"Degree"),c.a.createElement("th",{className:"hide-sm"},"Years"),c.a.createElement("th",null))),c.a.createElement("tbody",null,a)))},E=n(9),h=n(10),v=n(52);function y(){var e=Object(E.a)(["\n  position: relative;\n  overflow: hidden;\n  width: 15rem;\n  height: 15rem;\n  img {\n    width: 100%;\n    border-radius: 50%;\n  }\n\n  button {\n    position: absolute;\n    top: 80%;\n    left: 50%;\n    transform: translate(-50%, 150%);\n    background: var(--primary-color);\n    border: none;\n    border-bottom: 1px solid #fff;\n    color: #fff;\n    cursor: pointer;\n    outline: none;\n    padding: 0.1rem 0.5rem;\n    font-size: 1.2rem;\n    opacity: 0.6;\n    border-radius: 0.5rem;\n    transition: transform 0.5s ease;\n  }\n\n  :hover button {\n    transform: translate(-50%, -50%);\n    opacity: 0.8;\n  }\n"]);return y=function(){return e},e}function O(){var e=Object(E.a)(["\n  display: flex;\n  align-items: center;\n  margin: 1.5rem 0;\n\n  p {\n    margin-left: 2rem;\n    font-size: 2rem;\n  }\n"]);return O=function(){return e},e}function g(){var e=Object(E.a)(["\n  h1:first-child {\n    font-size: 4rem;\n    color: var(--primary-color);\n  }\n"]);return g=function(){return e},e}var x=Object(h.c)(v.b.div)(g()),j=h.c.div(O()),w=h.c.figure(y()),k={hidden:{x:"100vw",opacity:0},visible:{x:0,opacity:1,transition:{type:"spring"}},exit:{x:"-100vw",transition:{ease:"easeInOut"}}};t.default=function(){var e=Object(i.b)();Object(r.useEffect)((function(){e(Object(s.h)())}),[]);var t=Object(r.useState)(""),n=Object(a.a)(t,2),m=(n[0],n[1],Object(i.c)((function(e){return e.auth})).user),d=Object(i.c)((function(e){return e.profile})),E=d.loadingProfile,h=d.profile,v=Object(r.useRef)(),y=c.a.createElement(x,{variants:k,initial:"hidden",animate:"visible"},c.a.createElement("h1",null,"Dashboard"),c.a.createElement(j,null,c.a.createElement(w,null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},c.a.createElement("img",{src:m&&m.avatar}),c.a.createElement("input",{type:"file",style:{display:"none"},ref:v,onChange:function(t){e(Object(u.e)(t.target.files[0]))}}),c.a.createElement("button",{onClick:function(){v.current.click()}},"Upload Image"))),c.a.createElement("p",{className:"lead"},"Welcome ",m&&m.name)),null===h?c.a.createElement(r.Fragment,null,c.a.createElement("p",null,"You have not yet setup a profile, please add some info"),c.a.createElement(o.b,{to:"/create-profile",className:"btn btn-lg btn-primary my-1"},"Create Profile")):c.a.createElement(r.Fragment,null,c.a.createElement(p,null),h.experience&&c.a.createElement(f,{experiences:h.experience}),h.education&&c.a.createElement(b,{educations:h.education}),c.a.createElement("div",{className:"my-2"},c.a.createElement("button",{className:"btn bg-danger",onClick:function(){return e(Object(s.d)())}},"Delete my account"))));return E?c.a.createElement(l.a,null):y}}}]);
//# sourceMappingURL=14.778840fd.chunk.js.map