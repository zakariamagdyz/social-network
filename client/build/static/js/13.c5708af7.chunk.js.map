{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","redux/actions/Posts.js","Components/Posts/PostItem.jsx","Components/Posts/PostForm.jsx","Components/layouts/Modal/Model.style.jsx","Components/layouts/Modal/Modal.jsx","Components/Posts/Posts.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","fetchPosts","dispatch","a","axios","get","res","type","postType","FETCH_POSTS","payload","data","FETCH_POSTS_FAILED","setAlert","response","message","fetchAPost","id","FETCH_A_POST","FETCH_A_POST_FAILED","deleteAPost","delete","DELETE_POST","DELETE_POST_FAILED","addLike","post","UPDATE_LIKES","createPost","config","headers","body","JSON","stringify","text","CREATE_POST","AddComment","postId","ADD_COMMENT","deleteComment","commentId","REMOVE_COMMENT","getLikes","GET_LIKES_START","GET_LIKES","GET_LIKES_FAILED","postItemVariants","hidden","x","opacity","visible","transition","exit","ease","PostItem","_id","likes","comments","date","user","showActions","toggleModal","useDispatch","auth","useSelector","state","div","className","variants","initial","animate","to","src","avatar","alt","name","format","onClick","find","like","isAuthenticated","role","PostForm","useState","setText","onSubmit","e","preventDefault","cols","rows","placeholder","required","onChange","target","ModalBox","styled","motion","ModalHeader","ModalContent","ModalFooter","Overlay","LikerContainer","LikerImageContainer","figure","LikerImage","img","Liker","h4","overlayVariants","modalVariants","y","delay","Modal","allLikes","loadingLikes","useEffect","content","style","color","Spinner","filter","map","key","ReactDOM","createPortal","document","getElementById","postsVariants","Posts","modal","setModal","setPostId","setPostI","allPosts","loadingAllPosts","console","log"],"mappings":"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","file":"static/js/13.c5708af7.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { postType } from \"../types/posts\";\r\nimport axios from \"axios\";\r\nimport { setAlert } from \"./alert\";\r\n\r\nexport const fetchPosts = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/v1/posts\");\r\n\r\n    dispatch({ type: postType.FETCH_POSTS, payload: res.data });\r\n  } catch (error) {\r\n    dispatch({ type: postType.FETCH_POSTS_FAILED });\r\n    dispatch(setAlert(error.response.data.message, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const fetchAPost = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/api/v1/posts/${id}`);\r\n\r\n    dispatch({ type: postType.FETCH_A_POST, payload: res.data });\r\n  } catch (error) {\r\n    dispatch({ type: postType.FETCH_A_POST_FAILED });\r\n  }\r\n};\r\n\r\nexport const deleteAPost = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.delete(`/api/v1/posts/${id}`);\r\n\r\n    dispatch({ type: postType.DELETE_POST, payload: id });\r\n  } catch (error) {\r\n    dispatch({ type: postType.DELETE_POST_FAILED });\r\n    dispatch(setAlert(error.response.data.message, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const updateAPost = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/api/v1/posts/${id}`);\r\n\r\n    dispatch({ type: postType.UPDATE_POST, payload: res.data });\r\n  } catch (error) {\r\n    dispatch(setAlert(error.response.data.message, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const addLike = (id) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`/api/v1/posts/${id}/like`);\r\n\r\n    dispatch({ type: postType.UPDATE_LIKES, payload: { id, data: res.data } });\r\n  } catch (error) {\r\n    dispatch(setAlert(error.response.data.message, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const createPost = (post) => async (dispatch) => {\r\n  const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n  const body = JSON.stringify({ text: post });\r\n  try {\r\n    const res = await axios.post(\"/api/v1/posts\", body, config);\r\n    dispatch({ type: postType.CREATE_POST, payload: res.data });\r\n  } catch (error) {\r\n    dispatch(setAlert(error.response.data.message, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const AddComment = (postId, text) => async (dispatch) => {\r\n  const body = JSON.stringify({ text });\r\n  const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n  try {\r\n    const res = await axios.post(\r\n      `/api/v1/posts/${postId}/comments`,\r\n      body,\r\n      config\r\n    );\r\n\r\n    dispatch({ type: postType.ADD_COMMENT, payload: res.data });\r\n  } catch (error) {\r\n    dispatch(setAlert(error.response.data.message, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const deleteComment = (postId, commentId) => async (dispatch) => {\r\n  try {\r\n    await axios.delete(`/api/v1/posts/${postId}/${commentId}`);\r\n\r\n    dispatch({ type: postType.REMOVE_COMMENT, payload: commentId });\r\n  } catch (error) {\r\n    dispatch(setAlert(error.response.data.message, \"danger\"));\r\n  }\r\n};\r\n\r\nexport const getLikes = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: postType.GET_LIKES_START });\r\n    const res = await axios.get(`/api/v1/posts/${id}/likes`);\r\n\r\n    dispatch({ type: postType.GET_LIKES, payload: res.data });\r\n  } catch (error) {\r\n    dispatch({ type: postType.GET_LIKES_FAILED });\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { deleteAPost, addLike } from \"../../redux/actions/Posts\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n////////\r\n\r\nconst postItemVariants = {\r\n  hidden: { x: \"100vw\", opacity: 0 },\r\n  visible: { x: 0, opacity: 1, transition: { type: \"spring\" } },\r\n  exit: {\r\n    x: \"-100vw\",\r\n    transition: { ease: \"easeInOut\" },\r\n  },\r\n};\r\n\r\nconst PostItem = ({\r\n  _id,\r\n  text,\r\n  likes,\r\n  comments,\r\n  date,\r\n  user,\r\n  showActions,\r\n  toggleModal,\r\n  postId,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const auth = useSelector((state) => state.auth);\r\n  return (\r\n    <motion.div\r\n      className=\"post bg-white p-1 my-1\"\r\n      variants={postItemVariants}\r\n      initial=\"hidden\"\r\n      animate=\"visible\"\r\n      exit=\"exit\"\r\n    >\r\n      <div className=\"post__user\">\r\n        <Link to={`/profile/${user._id}`}>\r\n          <img className=\"round-img\" src={`/${user && user.avatar}`} alt=\"\" />\r\n          <h4>{user && user.name}</h4>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"post__data\">\r\n        <p className=\"my-1\">{text}</p>\r\n        <Moment format=\"YYYY-MM-DD h:mm a\" className=\"time\">\r\n          {date}\r\n        </Moment>\r\n      </div>\r\n\r\n      {showActions && (\r\n        <div className=\"post__actions\">\r\n          <div className=\"post__actions__like\">\r\n            {likes.length > 0 && (\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light free\"\r\n                onClick={() => {\r\n                  toggleModal();\r\n                  postId(_id);\r\n                }}\r\n              >\r\n                <i className=\"fas fa-thumbs-up\"></i>{\" \"}\r\n                <span>{likes.length} </span>\r\n              </button>\r\n            )}\r\n\r\n            {likes.find((like) => like.user === auth.user._id) ? (\r\n              <button\r\n                className=\"btn btn-liked\"\r\n                onClick={() => dispatch(addLike(_id))}\r\n              >\r\n                liked\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"btn btn-light btn-unliked\"\r\n                onClick={() => dispatch(addLike(_id))}\r\n              >\r\n                like\r\n              </button>\r\n            )}\r\n          </div>\r\n\r\n          <Link to={`/posts/${_id}`} className=\"btn btn-primary\">\r\n            Discussion{\" \"}\r\n            {comments.length > 0 && (\r\n              <span className=\"comment-count\">{comments.length}</span>\r\n            )}\r\n          </Link>\r\n          {(auth.isAuthenticated && auth.user._id === user._id) ||\r\n          (auth.user && auth.user.role === \"admin\") ? (\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-danger\"\r\n              onClick={() => dispatch(deleteAPost(_id))}\r\n            >\r\n              <i className=\"fas fa-times\"></i>\r\n            </button>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default PostItem;\r\n","import React, { useState } from \"react\";\r\nimport { createPost } from \"../../redux/actions/Posts\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst PostForm = () => {\r\n  const [text, setText] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createPost(text));\r\n    setText(\"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"post-form\">\r\n      <div className=\"bg-primary p\">\r\n        <h3>Say Something...</h3>\r\n      </div>\r\n      <form className=\"form my-1\" onSubmit={onSubmit}>\r\n        <textarea\r\n          name=\"text\"\r\n          cols=\"30\"\r\n          rows=\"5\"\r\n          placeholder=\"Create a post\"\r\n          required\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n        ></textarea>\r\n        <input type=\"submit\" className=\"btn btn-dark my-1\" value=\"Submit\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostForm;\r\n","import styled from \"styled-components\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport const ModalBox = styled(motion.div)`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 50%;\r\n  height: 70vh;\r\n  margin: 15vh auto;\r\n  display: flex;\r\n  z-index: 999;\r\n  background: #fff;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const ModalHeader = styled.div`\r\n  background: #343a40;\r\n  height: 65px;\r\n  width: 100%;\r\n  padding: 10px;\r\n`;\r\n\r\nexport const ModalContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n`;\r\n\r\nexport const ModalFooter = styled.div`\r\n  height: 60px;\r\n  display: flex;\r\n  margin-top: auto;\r\n  align-items: center;\r\n  flex-direction: row-reverse;\r\n`;\r\n\r\nexport const Overlay = styled(motion.div)`\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  z-index: 20;\r\n`;\r\n\r\nexport const LikerContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom: 1px solid #ccc;\r\n  margin-top: 15px;\r\n`;\r\n\r\nexport const LikerImageContainer = styled.figure`\r\n  margin-right: 20px;\r\n`;\r\n\r\nexport const LikerImage = styled.img`\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const Liker = styled.h4`\r\n  text-transform: capitalize;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getLikes } from \"../../../redux/actions/Posts\";\r\nimport Spinner from \"../../common/Spinner\";\r\nimport {\r\n  Overlay,\r\n  ModalBox,\r\n  ModalHeader,\r\n  ModalContent,\r\n  ModalFooter,\r\n  LikerContainer,\r\n  LikerImageContainer,\r\n  LikerImage,\r\n  Liker,\r\n} from \"./Model.style\";\r\n\r\n////////////////// //////////////////\r\n\r\nconst overlayVariants = {\r\n  visible: { opacity: 1 },\r\n  hidden: { opacity: 0 },\r\n};\r\n\r\nconst modalVariants = {\r\n  hidden: { y: \"-100vh\", opacity: 0 },\r\n  visible: {\r\n    y: \"0\",\r\n    opacity: 1,\r\n    transition: { delay: 0.5 },\r\n  },\r\n};\r\n\r\nconst Modal = ({ postId, toggleModal }) => {\r\n  const dispatch = useDispatch();\r\n  const { allLikes, loadingLikes } = useSelector((state) => state.post);\r\n  useEffect(() => {\r\n    dispatch(getLikes(postId));\r\n  }, []);\r\n  const content = (\r\n    <Overlay\r\n      onClick={toggleModal}\r\n      variants={overlayVariants}\r\n      initial=\"hidden\"\r\n      animate=\"visible\"\r\n      exit=\"hidden\"\r\n    >\r\n      <ModalBox variants={modalVariants}>\r\n        <ModalHeader>\r\n          <h1 style={{ color: \"#fff\" }}>People who likes the post</h1>\r\n        </ModalHeader>\r\n\r\n        <ModalContent>\r\n          {loadingLikes ? (\r\n            <Spinner />\r\n          ) : (\r\n            allLikes\r\n              .filter((like) => !!like.user)\r\n              .map((like) => (\r\n                <LikerContainer key={like.id}>\r\n                  <LikerImageContainer>\r\n                    <LikerImage src={like.user.avatar} alt=\"\" />\r\n                  </LikerImageContainer>\r\n                  <Liker>{like.user.name}</Liker>\r\n                </LikerContainer>\r\n              ))\r\n          )}\r\n        </ModalContent>\r\n\r\n        <ModalFooter>\r\n          <button className=\"btn btn-info\" onClick={toggleModal}>\r\n            Close\r\n          </button>\r\n        </ModalFooter>\r\n      </ModalBox>\r\n    </Overlay>\r\n  );\r\n\r\n  return ReactDOM.createPortal(content, document.getElementById(\"modal-hook\"));\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useEffect, Fragment, useState } from \"react\";\r\nimport { fetchPosts } from \"../../redux/actions/Posts\";\r\nimport Spinner from \"../common/Spinner\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport PostItem from \"./PostItem\";\r\nimport PostForm from \"./PostForm\";\r\nimport Modal from \"../layouts/Modal/Modal\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport axios from \"axios\";\r\n//////////////\r\n\r\nconst postsVariants = {\r\n  hidden: { x: \"100vw\", opacity: 0 },\r\n  visible: { x: 0, opacity: 1, transition: { type: \"spring\" } },\r\n};\r\n\r\nconst Posts = () => {\r\n  const [modal, setModal] = useState(false);\r\n  const [postId, setPostId] = useState(null);\r\n\r\n  const toggleModal = () => setModal(!modal);\r\n  const setPostI = (id) => setPostId(id);\r\n  const dispatch = useDispatch();\r\n  const { allPosts, loadingAllPosts } = useSelector((state) => state.post);\r\n  useEffect(() => {\r\n    dispatch(fetchPosts());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const res = await axios.get(\"/api/v1/users/auth\");\r\n        console.log(res.data);\r\n      } catch (error) {\r\n        console.log(error.data.response.message);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return loadingAllPosts ? (\r\n    <Spinner />\r\n  ) : (\r\n    <motion.div variants={postsVariants} initial=\"hidden\" animate=\"visible\">\r\n      <AnimatePresence>\r\n        {modal && <Modal toggleModal={toggleModal} postId={postId} />}\r\n      </AnimatePresence>\r\n\r\n      <h1 className=\"large text-primary\">Posts</h1>\r\n      <p className=\"lead\">\r\n        <i className=\"fa fa-users\"></i> Welcome to the commuinity\r\n      </p>\r\n      <PostForm />\r\n      <AnimatePresence>\r\n        {allPosts.map((post) => (\r\n          <PostItem\r\n            key={post._id}\r\n            {...post}\r\n            showActions\r\n            toggleModal={toggleModal}\r\n            postId={setPostI}\r\n          />\r\n        ))}\r\n      </AnimatePresence>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n"],"sourceRoot":""}